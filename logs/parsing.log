2025-11-27 16:17:40 [restartedMain] INFO  o.n.b.config.DataInitializer - 데이터가 이미 존재합니다. 초기화를 건너뜁니다.
2025-11-27 16:18:18 [restartedMain] INFO  o.n.b.config.DataInitializer - 대용량 CSV 데이터 초기화 시작
2025-11-27 16:18:18 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 워밍업 중 (기존 데이터 로드)...
2025-11-27 16:18:18 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 로드 완료 (Publisher: 48, Contributor: 195)
2025-11-27 16:18:18 [restartedMain] INFO  o.n.b.config.DataInitializer - 파일 읽기 시작: BOOK_DB_202112.csv
2025-11-27 16:18:19 [restartedMain] INFO  o.n.b.config.DataInitializer - 총 157118건의 데이터 처리를 시작합니다.
2025-11-27 16:18:32 [restartedMain] INFO  o.n.b.config.DataInitializer - 대용량 CSV 데이터 초기화 시작
2025-11-27 16:18:32 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 워밍업 중 (기존 데이터 로드)...
2025-11-27 16:18:32 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 로드 완료 (Publisher: 36, Contributor: 211)
2025-11-27 16:18:32 [restartedMain] INFO  o.n.b.config.DataInitializer - 파일 읽기 시작: BOOK_DB_202112.csv
2025-11-27 16:18:32 [restartedMain] INFO  o.n.b.config.DataInitializer - 총 157118건의 데이터 처리를 시작합니다.
2025-11-27 16:23:08 [restartedMain] INFO  o.n.b.config.DataInitializer - 대용량 CSV 데이터 초기화 시작
2025-11-27 16:23:08 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 워밍업 중 (기존 데이터 로드)...
2025-11-27 16:23:08 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 로드 완료 (Publisher: 26, Contributor: 160)
2025-11-27 16:23:08 [restartedMain] INFO  o.n.b.config.DataInitializer - 파일 읽기 시작: BOOK_DB_202112.csv
2025-11-27 16:23:09 [restartedMain] INFO  o.n.b.config.DataInitializer - 총 157118건의 데이터 처리를 시작합니다.
2025-11-27 16:26:01 [restartedMain] INFO  o.n.b.config.DataInitializer - 대용량 CSV 데이터 초기화 시작
2025-11-27 16:26:01 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 워밍업 중 (기존 데이터 로드)...
2025-11-27 16:26:01 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 로드 완료 (Publisher: 37, Contributor: 261)
2025-11-27 16:26:01 [restartedMain] INFO  o.n.b.config.DataInitializer - 파일 읽기 시작: BOOK_DB_202112.csv
2025-11-27 16:26:02 [restartedMain] INFO  o.n.b.config.DataInitializer - 총 157118건의 데이터 처리를 시작합니다.
2025-11-27 17:12:37 [restartedMain] INFO  o.n.b.config.DataInitializer - 대용량 CSV 데이터 초기화 시작
2025-11-27 17:12:37 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 워밍업 중 (기존 데이터 로드)...
2025-11-27 17:12:37 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 로드 완료 (Publisher: 0, Contributor: 0)
2025-11-27 17:12:37 [restartedMain] INFO  o.n.b.config.DataInitializer - 파일 읽기 시작: BOOK_DB_202112.csv
2025-11-27 17:12:38 [restartedMain] INFO  o.n.b.config.DataInitializer - 총 157118건의 데이터 처리를 시작합니다.
2025-11-27 17:14:42 [restartedMain] INFO  o.n.b.config.DataInitializer - 대용량 CSV 데이터 초기화 시작
2025-11-27 17:14:42 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 워밍업 중 (기존 데이터 로드)...
2025-11-27 17:14:43 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 로드 완료 (Publisher: 0, Contributor: 0)
2025-11-27 17:14:43 [restartedMain] INFO  o.n.b.config.DataInitializer - 파일 읽기 시작: BOOK_DB_202112.csv
2025-11-27 17:14:43 [restartedMain] INFO  o.n.b.config.DataInitializer - 총 157118건의 데이터 처리를 시작합니다.
2025-11-27 17:18:43 [restartedMain] INFO  o.n.b.config.DataInitializer - 대용량 CSV 데이터 초기화 시작
2025-11-27 17:18:43 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 워밍업 중 (기존 데이터 로드)...
2025-11-27 17:18:43 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 로드 완료 (Publisher: 0, Contributor: 0)
2025-11-27 17:18:43 [restartedMain] INFO  o.n.b.config.DataInitializer - 파일 읽기 시작: BOOK_DB_202112.csv
2025-11-27 17:18:43 [restartedMain] INFO  o.n.b.config.DataInitializer - 총 157118건의 데이터 처리를 시작합니다.
2025-11-27 17:23:34 [restartedMain] INFO  o.n.b.config.DataInitializer - 대용량 CSV 데이터 초기화 시작
2025-11-27 17:23:34 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 워밍업 중 (기존 데이터 로드)...
2025-11-27 17:23:34 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 로드 완료 (Publisher: 0, Contributor: 0)
2025-11-27 17:23:34 [restartedMain] INFO  o.n.b.config.DataInitializer - 파일 읽기 시작: BOOK_DB_202112.csv
2025-11-27 17:23:35 [restartedMain] INFO  o.n.b.config.DataInitializer - 총 157118건의 데이터 처리를 시작합니다.
2025-11-27 17:23:40 [restartedMain] ERROR o.n.b.config.DataInitializer - 파일 처리 중 치명적 오류 발생: BOOK_DB_202112.csv
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:532)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:405)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:639)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:374)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at org.nhnacademy.book2onandonbookservice.repository.BatchInsertRepository$$SpringCGLIB$$0.saveAllBooks(<generated>)
	at org.nhnacademy.book2onandonbookservice.config.DataInitializer.saveBatch(DataInitializer.java:159)
	at org.nhnacademy.book2onandonbookservice.config.DataInitializer.processCsvFile(DataInitializer.java:136)
	at org.nhnacademy.book2onandonbookservice.config.DataInitializer.run(DataInitializer.java:85)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at org.nhnacademy.book2onandonbookservice.config.DataInitializer$$SpringCGLIB$$0.run(<generated>)
	at org.springframework.boot.SpringApplication.lambda$callRunner$4(SpringApplication.java:784)
	at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:82)
	at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60)
	at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:86)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:796)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:784)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:772)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:772)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:325)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at org.nhnacademy.book2onandonbookservice.Book2OnAndOnBookServiceApplication.main(Book2OnAndOnBookServiceApplication.java:16)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.lang.IllegalStateException: EntityManagerFactory is closed
	at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:701)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:759)
	at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:167)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:594)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:497)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:750)
	at jdk.proxy4/jdk.proxy4.$Proxy164.createNativeEntityManager(Unknown Source)
	at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410)
	... 39 common frames omitted
2025-11-27 17:23:40 [restartedMain] INFO  o.n.b.config.DataInitializer - 전체 초기화 완료! 소요 시간: 5초
2025-11-27 17:23:52 [restartedMain] INFO  o.n.b.config.DataInitializer - 대용량 CSV 데이터 초기화 시작
2025-11-27 17:23:52 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 워밍업 중 (기존 데이터 로드)...
2025-11-27 17:23:52 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 로드 완료 (Publisher: 0, Contributor: 0)
2025-11-27 17:23:52 [restartedMain] INFO  o.n.b.config.DataInitializer - 파일 읽기 시작: BOOK_DB_202112.csv
2025-11-27 17:23:53 [restartedMain] INFO  o.n.b.config.DataInitializer - 총 157118건의 데이터 처리를 시작합니다.
2025-11-27 17:25:00 [restartedMain] INFO  o.n.b.config.DataInitializer - 대용량 CSV 데이터 초기화 시작
2025-11-27 17:25:00 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 워밍업 중 (기존 데이터 로드)...
2025-11-27 17:25:00 [restartedMain] INFO  o.n.b.config.DataInitializer - 캐시 로드 완료 (Publisher: 0, Contributor: 0)
2025-11-27 17:25:00 [restartedMain] INFO  o.n.b.config.DataInitializer - 파일 읽기 시작: BOOK_DB_202112.csv
2025-11-27 17:25:01 [restartedMain] INFO  o.n.b.config.DataInitializer - 총 157118건의 데이터 처리를 시작합니다.
2025-11-27 19:00:06 [restartedMain] INFO  o.n.b.config.DataInitializer - 데이터가 이미 존재합니다. 초기화를 건너뜁니다.
2025-11-27 19:02:37 [restartedMain] INFO  o.n.b.config.DataInitializer - 데이터가 이미 존재합니다. 초기화를 건너뜁니다.
2025-11-27 19:04:31 [restartedMain] INFO  o.n.b.config.DataInitializer - 데이터가 이미 존재합니다. 초기화를 건너뜁니다.
2025-11-27 19:06:27 [restartedMain] INFO  o.n.b.config.DataInitializer - 데이터가 이미 존재합니다. 초기화를 건너뜁니다.
2025-11-27 19:07:19 [restartedMain] INFO  o.n.b.config.DataInitializer - 데이터가 이미 존재합니다. 초기화를 건너뜁니다.
2025-11-27 19:07:29 [restartedMain] INFO  o.n.b.config.DataInitializer - 데이터가 이미 존재합니다. 초기화를 건너뜁니다.
2025-11-27 19:08:00 [restartedMain] INFO  o.n.b.config.DataInitializer - 데이터가 이미 존재합니다. 초기화를 건너뜁니다.
2025-11-27 19:08:15 [restartedMain] INFO  o.n.b.config.DataInitializer - 데이터가 이미 존재합니다. 초기화를 건너뜁니다.
2025-11-27 19:09:49 [restartedMain] INFO  o.n.b.config.DataInitializer - 데이터가 이미 존재합니다. 초기화를 건너뜁니다.
2025-11-27 19:12:12 [restartedMain] INFO  o.n.b.config.DataInitializer - 데이터가 이미 존재합니다. 초기화를 건너뜁니다.
2025-11-27 19:15:47 [restartedMain] INFO  o.n.b.config.DataInitializer - 데이터가 이미 존재합니다. 초기화를 건너뜁니다.
2025-11-27 19:18:40 [restartedMain] INFO  o.n.b.config.DataInitializer - 데이터가 이미 존재합니다. 초기화를 건너뜁니다.
2025-11-27 19:21:14 [restartedMain] INFO  o.n.b.config.DataInitializer - 데이터가 이미 존재합니다. 초기화를 건너뜁니다.
2025-11-27 19:23:26 [restartedMain] INFO  o.n.b.config.DataInitializer - 데이터가 이미 존재합니다. 초기화를 건너뜁니다.
2025-11-27 19:24:04 [restartedMain] INFO  o.n.b.config.DataInitializer - 데이터가 이미 존재합니다. 초기화를 건너뜁니다.
2025-11-27 19:28:19 [restartedMain] INFO  o.n.b.config.DataInitializer - 데이터가 이미 존재합니다. 초기화를 건너뜁니다.
2025-11-27 19:39:18 [restartedMain] INFO  o.n.b.config.DataInitializer - 데이터가 이미 존재합니다. 초기화를 건너뜁니다.
